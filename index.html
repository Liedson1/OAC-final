<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sensor de Temperatura</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <!-- Adicione esta linha para vincular o arquivo CSS -->
</head>
<body>
<h1>Sensor de Temperatura</h1>
<div id="sensor-data">
    <p>Temperatura: <span id="temperatura">--</span>°C</p>
    <p>Umidade: <span id="umidade">--</span>%</p>
</div>

<!-- Carregue o cliente Socket.IO a partir de um CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.js"></script>
<script>
    const socket = io(); // Cria uma instância do cliente Socket.IO

    // Função para atualizar os dados na página
    function atualizarDados(temperatura, umidade) {
        document.getElementById('temperatura').textContent = temperatura.toFixed(0);
        document.getElementById('umidade').textContent = umidade.toFixed(0);
    }

    // Ouvinte para o evento 'dados-sensor' enviado pelo servidor
    socket.on('dados-sensor', (dados) => {
        console.log('Dados do sensor recebidos:', dados);

        // Chama a função para atualizar os dados na página
        atualizarDados(dados.temperatura, dados.umidade);
    });
</script>
</body>
</html>
